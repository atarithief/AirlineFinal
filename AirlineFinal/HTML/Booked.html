<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Flight Booked</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script>
        $(function () {
            $(".header").load("Header.html");
        });
        $(function () {
            $(".footer").load("Footer.html");
        });
    </script>

    <style>
        body {
            margin: auto;
            text-align: center;
        }

        #main-container {
            margin: auto;
        }

        #form-container {
            background: linear-gradient(45deg, rgba(206, 245, 255, 0.60), rgba(255, 255, 206, 0.60));
        }
    </style>
</head>
<body>
    <div class="main-layout">
        <div class="header"></div>
        <div class="content">
            <main class="d-flex justify-content-center" id="main-container">
                <div class="container rounded border border-light p-4 m-4" id="form-container">
                    <label class="col-form-label-lg">Flight Number: </label>
                    <label id="flightNumber"></label>
                    <div class="row">
                        <div class="form-group col-md-6 left-xs left-sm left-md left-lg">
                            <label class="col-form-label-lg">From: </label>
                            <label id="fromAirport"></label>
                        </div>
                        <div class="form-group col-md-6 right-xs right-sm right-md right-lg">
                            <label class="col-form-label-lg">To: </label>
                            <label id="toAirport"></label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 left-xs left-sm left-md left-lg">
                            <label class="col-form-label-lg">Departing Time: </label>
                            <label id="deptTime"></label>
                        </div>
                        <div class="form-group col-md-6 right-xs right-sm right-md right-lg">
                            <label class="col-form-label-lg">Arrival Time: </label>
                            <label id="arrivalTime"></label>
                        </div>
                    </div>
                    <label class="col-form-label-lg">Price: </label>
                    <label id="price"></label>
                    <div class="pt-3">
                        <a class="btn btn-outline-danger" id="clear-btn" href="Booking.html">Change Flight</a>
                        <a class="btn btn-outline-success" id="submit-btn" href="Purchased.html">Purchase Ticket</a>
                    </div>
                </div>
            </main>
        </div>
        <div class="footer"></div>
    </div>
</body>
</html>
<script>
    $(document).ready(function () {
        var flightNum = Math.round(Math.random() * 10000);
        var price = Math.round((localStorage.getItem("Adults") + localStorage.getItem("Children")) * (Math.random() * 100000)) / 100;

        var fromAir = localStorage.getItem("From");
        var toAir = localStorage.getItem("To");
        var deptDate = localStorage.getItem("Depart Date");
        var retDate = localStorage.getItem("Return Date");
        var adults = localStorage.getItem("Adults");
        var children = localStorage.getItem("Children");

        const fromTxt = document.getElementById("fromAirport");
        const toTxt = document.getElementById("toAirport");
        const deptDateTxt = document.getElementById("deptTime");
        const retDateTxt = document.getElementById("arrivalTime");
        const flightNumTxt = document.getElementById("flightNumber");
        const priceTxt = document.getElementById("price");

        fromTxt.innerHTML = fromAir;
        toTxt.innerHTML = toAir;
        deptDateTxt.innerHTML = deptDate;
        retDateTxt.innerHTML = retDate;
        flightNumTxt.innerHTML = flightNum;
        priceTxt.innerHTML = price;
    }); 

    $("#clear-btn").click(function () {
        localStorage.clear();
    });

    $("#submit-btn").click(function () {
        var buyPrice = document.getElementById("price").innerHTML;
        var flightNumber = document.getElementById("flightNumber").innerHTML;

        localStorage.setItem("FlightNum", flightNumber);
        localStorage.setItem("BuyPrice", buyPrice);
    });
</script>